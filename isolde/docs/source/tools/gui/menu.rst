The ISOLDE menu
===============

.. toctree::
    :maxdepth: 2

.. contents::
    :local:
    :depth: 3

When you start ISOLDE, a new "ISOLDE" entry will appear in the main ChimeraX
menu. This provides access to various small, occasionally-used functions.

Model Building
--------------

* **Add Hydrogen:** add a single hydrogen in a chemically-sensible position to the
  currently selected atom, if supported by its chemical state. If addition of
  another hydrogen is not chemically sensible it will not be placed.

* **Add Oxt:** add an OXT atom to a C-terminal amino acid residue to form the
  carboxylic acid. In general this should only be done for *true* C-terminal
  residues, unless you are certain that this is a proteolytic cleavage site.

* **Make Bond:** create a bond between two selected atoms. Use with care: this
  method does **not** check for chemical sensibility, nor delete hydrogens.

* **Remove Bond:** delete a bond between two selected atoms. As for *Make Bond*,
  this does not make any other modifications to the model such as addition/
  removal of hydrogens.

* **Merge Models:** takes all models with at least one atom selected and merges them
  together into the first (that is, the model with the lowest ID string will
  be extended to include the atoms from all other selected models). Chains in
  the added models will be renamed as necessary to avoid conflicts.

Disulphides
~~~~~~~~~~~

* **Break Disulphide:** break the disulphide bond between two selected cysteine
  residues, adding hydrogens if hydrogens are present in the rest of the model

* **Create Disulphide:** create a disulphide bond between two selected residues

* **Make All Sensible Disulphides:** find and bond all pairs of cysteine residues in
  your model whose sulphur atoms are within 3 Angstroms of each other but not
  bonded. If three or more cysteine residues are clustered in an ambiguous
  manner, they will not be bonded and a warning message with their identities
  will be printed to the log.

Prep
----

* **Convert Amber Files:** Looks in the current working directory for pairs of files
  named ({name}.frcmod, {name}.mol2) (i.e. generated by AMBER's ANTECHAMBER for
  a new ligand), and converts each pair into the OpenMM ffXML format required by
  ISOLDE. Use ISOLDE's "Load residue MD definition(s)" button to allow
  simulation of these residues.

  *NOTE: this tool requires ParmEd, which is not currently part of the ChimeraX
  distribution. If you don't have it, you will be given the choice to
  automatically install it. Installation of ParmEd requires the availability of
  a compiler on your system path - for Linux this is generally no problem, but
  in MacOS you will need to have XCode installed while in Windows you will need
  a recent Visual Studio installation.*

*NOTE: the following two tools require Phenix and ParmEd. Phenix must have the
$PHENIX environment variable set (e.g. by running "source phenix_env.sh" prior
to starting ChimeraX)*

* **Parameterise Ligand With Auto H:** valid for a single selected ligand, not
  covalently bound to any other residue. Runs phenix.elbow to generate AMBER
  parameters, converts them to ffXML format, and loads the result into ISOLDE's
  forcefield. The XML file will be saved in the current working directory for
  future use. This version ignores the existing hydrogens, and allows
  phenix.elbow to decide them.

* **Parameterise Ligand With Current H:** valid for a single selected ligand, not
  covalently bound to any other residue. Runs phenix.elbow to generate AMBER
  parameters, converts them to ffXML format, and loads the result into ISOLDE's
  forcefield. The XML file will be saved in the current working directory for
  future use. This version uses the hydrogens currently in the residue - make
  sure these are sensible before you start!
